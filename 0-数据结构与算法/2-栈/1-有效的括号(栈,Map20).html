<script>
// 给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串，判断字符串是否有效。
var isValid = function (s) {
  if(s.length%2===1){return false}
  const stack = []
  for(var i=0;i<s.length;i++){
    const c = s[i];
    if(c==='('||c=='['||c==='{'){
      stack.push(c)
    }else{
      const t = stack[stack.length-1];
      if(
        (t==='('&&c===')')||
        (t==='['&&c===']')||
        (t==='{'&&c==='}')
      ){
        stack.pop()
      }else{
        return false
      }
    }
  }
  return stack.length ===0
}

</script>



<script>
var isValid = function (s) {
  if (s.length % 2 === 1) { return false; }
  const stack = []
  const map = new Map()
  map.set('(',')');
  map.set('[',']');
  map.set('{','}')
  for (var i =0;i<s.length;i++){
    const c = s[i]
    if(map.get(c)){
      stack.push(c)
    }else{//右侧的情况 ] } ),说明stack的最后一个是[{(
      const t = stack[stack[length-1]];
      if(map.get(t)===c){
        stack.pop()
      }else{
        return false
      }
    }
  }

  return stack.length ===0
}

</script>